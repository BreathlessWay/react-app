webpackJsonp([4],{218:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),s=n.n(o),l=n(238),c=(n.n(l),n(240)),u=n(5),p=(n.n(u),function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}()),m=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClickMenu=n.handleClickMenu.bind(n),n.handleGetList=n.handleGetList.bind(n),n.handleSet=n.handleSet.bind(n),n.handleClickPre=n.handleClickPre.bind(n),n.handleClickNext=n.handleClickNext.bind(n),n}return i(t,e),p(t,[{key:"handleClickMenu",value:function(e){if(this.props.list.getIn(["params","tab"])!==e.tab){var t=Object(u.Map)(Object.assign({},e,{page:1})),n=this.props.list.get("params").merge(t);this.handleGetList(n)}}},{key:"handleGetList",value:function(e){var t=this;this.props.getList(e.toJS()).then(function(){t.handleSet()}).catch(function(e){var n=e.error.response.data;t.props.handleDialog({type:"danger",message:n?n.error_msg:"\u83b7\u53d6\u4e3b\u9898\u5217\u8868\u5931\u8d25"})})}},{key:"handleClickPre",value:function(e){e.preventDefault();var t=this.props.list.get("params").updateIn(["page"],function(e){return e-1});this.handleGetList(t)}},{key:"handleClickNext",value:function(e){e.preventDefault();var t=this.props.list.get("params").updateIn(["page"],function(e){return e+1});this.handleGetList(t)}},{key:"handleSet",value:function(){var e=[{path:"/",name:"\u9996\u9875"}];switch(this.props.list.getIn(["params","tab"])){case"ask":e.push({path:"/",name:"\u95ee\u7b54"});break;case"job":e.push({path:"/",name:"\u5de5\u4f5c"});break;case"share":e.push({path:"/",name:"\u5206\u4eab"});break;case"good":e.push({path:"/",name:"\u7cbe\u534e"});break;default:document.title="\u5168\u90e8"}this.props.setBreadcrumb(e)}},{key:"componentDidMount",value:function(){this.handleGetList(this.props.list.get("params"))}},{key:"render",value:function(){var e=this,t=this.props.list.get("params"),n=this.props.list.get("result");return s.a.createElement("article",{className:"home-index container pb-4"},s.a.createElement("section",{className:"row"},s.a.createElement("article",{className:"tab-content col-10"},s.a.createElement(c.a,this.props),s.a.createElement("ul",{className:"pagination mt-4 text-center justify-content-center"},s.a.createElement("li",{className:1===t.get("page")?"page-item disabled":"page-item"},s.a.createElement("a",{className:"page-link",href:"/",onClick:this.handleClickPre},"\u4e0a\u4e00\u9875 ")),s.a.createElement("li",{className:"page-item disabled px-3"},s.a.createElement("span",{className:"badge badge-info home-index_page"},"\u7b2c",t.get("page"),"\u9875")),s.a.createElement("li",{className:n.length<t.get("limit")?"page-item disabled":"page-item"},s.a.createElement("a",{className:"page-link",href:"/",onClick:this.handleClickNext},"\u4e0b\u4e00\u9875")))),s.a.createElement("nav",{className:"nav flex-column nav-pills col-2 pt-0"},s.a.createElement("button",{type:"button",className:"btn btn-primary mb-3",onClick:function(){return e.handleClickMenu({tab:""})}},"\u5168\u90e8"),s.a.createElement("button",{type:"button",className:"btn btn-secondary mb-3",onClick:function(){return e.handleClickMenu({tab:"ask"})}},"\u95ee\u7b54"),s.a.createElement("button",{type:"button",className:"btn btn-success mb-3",onClick:function(){return e.handleClickMenu({tab:"share"})}},"\u5206\u4eab"),s.a.createElement("button",{type:"button",className:"btn btn-danger mb-3",onClick:function(){return e.handleClickMenu({tab:"good"})}},"\u7cbe\u534e"),s.a.createElement("button",{type:"button",className:"btn btn-info mb-3",onClick:function(){return e.handleClickMenu({tab:"job"})}},"\u5de5\u4f5c"),s.a.createElement("button",{type:"button",className:"btn btn-warning",onClick:function(){return e.handleClickMenu({tab:"dev"})}},"\u6d4b\u8bd5"))))}}]),t}(o.Component);t.default=m},229:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=function(e){if(e.top)return r.a.createElement("span",{className:"badge badge-primary mr-2"},"\u7f6e\u9876");if(e.good)return r.a.createElement("span",{className:"badge btn-danger mr-2"},"\u7cbe\u534e");switch(e.tab){case"ask":return r.a.createElement("span",{className:"badge btn-secondary mr-2"},"\u95ee\u7b54");case"share":return r.a.createElement("span",{className:"badge btn-success mr-2"},"\u5206\u4eab");case"job":return r.a.createElement("span",{className:"badge btn-info mr-2"},"\u5de5\u4f5c");case"dev":return r.a.createElement("span",{className:"badge btn-warning mr-2"},"\u6d4b\u8bd5");default:return r.a.createElement("span",{className:"badge btn-light mr-2"},"\u672a\u5206\u7c7b")}};t.a=i},238:function(e,t,n){var a=n(239);"string"===typeof a&&(a=[[e.i,a,""]]);var r={hmr:!1};r.transform=void 0;n(213)(a,r);a.locals&&(e.exports=a.locals)},239:function(e,t,n){t=e.exports=n(212)(!0),t.push([e.i,".home-index{background:#fff}.home-index .btn{cursor:pointer}.home-index .nav{padding:15px;height:340px}.home-index .list-group-item{cursor:pointer}.home-index .list-group-item span{display:inline-block;vertical-align:middle}.home-index .pagination .home-index_page{font-size:100%;padding:.5rem .75rem;line-height:1.4}","",{version:3,sources:["/home/runner/work/react-app/react-app/src/pages/Home/style.less"],names:[],mappings:"AAAA,YACE,eAAiB,CAClB,AACD,iBACE,cAAgB,CACjB,AACD,iBACE,aAAc,AACd,YAAc,CACf,AACD,6BACE,cAAgB,CACjB,AACD,kCACE,qBAAsB,AACtB,qBAAuB,CACxB,AACD,yCACE,eAAgB,AAChB,qBAAsB,AACtB,eAAiB,CAClB",file:"style.less",sourcesContent:[".home-index {\n  background: #fff;\n}\n.home-index .btn {\n  cursor: pointer;\n}\n.home-index .nav {\n  padding: 15px;\n  height: 340px;\n}\n.home-index .list-group-item {\n  cursor: pointer;\n}\n.home-index .list-group-item span {\n  display: inline-block;\n  vertical-align: middle;\n}\n.home-index .pagination .home-index_page {\n  font-size: 100%;\n  padding: .5rem .75rem;\n  line-height: 1.4;\n}\n"],sourceRoot:""}])},240:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(0),s=n.n(o),l=n(1),c=n.n(l),u=n(5),p=(n.n(u),n(229)),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClickRow=n.handleClickRow.bind(n),n}return i(t,e),m(t,[{key:"shouldComponentUpdate",value:function(e){return!Object(u.is)(this.props.list.get("result"),e.list.get("result"))}},{key:"componentDidUpdate",value:function(){console.log("home list update")}},{key:"handleClickRow",value:function(e){this.props.history.push("/detail/"+e)}},{key:"render",value:function(){var e=this,t=this.props.list.get("result");return s.a.createElement("ul",{className:"list-group"},t.map(function(t){return s.a.createElement("li",{className:"list-group-item",key:t.id,onClick:function(){return e.handleClickRow(t.id)}},s.a.createElement(p.a,t),s.a.createElement("span",{className:"overflow-ellipsis col-9 px-0"},t.title),s.a.createElement("span",{className:"overflow-ellipsis col-2 px-0 text-right"},t.reply_count+"/"+t.visit_count))}))}}]),t}(o.Component);h.propTypes={list:c.a.object.isRequired},t.a=h}});
//# sourceMappingURL=home.c851d3ed.chunk.js.map
webpackJsonp([3],{220:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n.n(i),c=n(29),l=n.n(c),u=n(5),p=(n.n(u),n(75)),f=n(253),m=(n.n(f),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),d=Object(p.a)(function(){return new Promise(function(e){e()}).then(n.bind(null,255))}),h=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={userInfo:Object(u.fromJS)({avatar_url:"",create_at:"",githubUsername:"",loginname:"",recent_replies:[],recent_topics:[],score:0}),userCollect:Object(u.fromJS)([])},n.handleClickRow=n.handleClickRow.bind(n),n}return o(t,e),m(t,[{key:"componentDidMount",value:function(){var e=this,t=[{path:"/",name:"\u9996\u9875"},{path:"",name:"\u7528\u6237\u8be6\u60c5"}];this.props.setBreadcrumb(t),l.a.get("/user/"+this.props.match.params.name).then(function(t){e.setState({userInfo:Object(u.fromJS)(t.data.data)})}).catch(function(t){var n=t.response.data;e.props.handleDialog({type:"danger",message:n?n.error_msg:"\u8bf7\u6c42\u7528\u6237\u4fe1\u606f\u5931\u8d25"})}),l.a.get("/topic_collect/"+this.props.match.params.name).then(function(t){e.setState({userCollect:Object(u.fromJS)(t.data.data)})}).catch(function(t){var n=t.response.data;e.props.handleDialog({type:"danger",message:n?n.error_msg:"\u83b7\u53d6\u7528\u6237\u6536\u85cf\u4e3b\u9898\u5931\u8d25"})})}},{key:"handleClickRow",value:function(e){this.props.history.push("/detail/"+e)}},{key:"render",value:function(){return s.a.createElement("article",{className:"container-fluid"},s.a.createElement("section",{className:"container user-name-index pt-3 pb-4"},s.a.createElement("header",{className:"d-flex align-items-center user-name-index_header pb-4"},s.a.createElement("img",{src:this.state.userInfo.get("avatar_url"),alt:"",className:"rounded-circle",width:60}),s.a.createElement("div",{className:"ml-3"},s.a.createElement("p",null,s.a.createElement("span",{className:"user-name-index_header_center"},"\u7528\u6237\u540d\uff1a"),s.a.createElement("span",null,this.state.userInfo.get("loginname"))),s.a.createElement("p",null,s.a.createElement("span",{className:"user-name-index_header_center"},"\u6ce8\u518c\u65f6\u95f4\uff1a"),s.a.createElement("span",null,new Date(this.state.userInfo.get("create_at")).Format("yyyy-MM-dd")))),s.a.createElement("div",{className:"ml-5"},s.a.createElement("p",null,s.a.createElement("span",{className:"user-name-index_header_right"},"github\u7528\u6237\u540d\uff1a"),s.a.createElement("span",null,this.state.userInfo.get("githubUsername"))),s.a.createElement("p",null,s.a.createElement("span",{className:"user-name-index_header_right"},"\u79ef\u5206\uff1a"),s.a.createElement("span",null,this.state.userInfo.get("score"))))),s.a.createElement(d,{title:"\u6536\u85cf\u7684\u4e3b\u9898",noTips:"\u6682\u672a\u6536\u85cf\u8fc7\u4e3b\u9898",topicList:this.state.userCollect,handleClickRow:this.handleClickRow}),s.a.createElement(d,{title:"\u6700\u8fd1\u56de\u590d\u7684\u4e3b\u9898",noTips:"\u6682\u672a\u6709\u8fc7\u56de\u590d\u4fe1\u606f",topicList:this.state.userInfo.get("recent_replies"),handleClickRow:this.handleClickRow}),s.a.createElement(d,{title:"\u6700\u8fd1\u53d1\u8868\u7684\u4e3b\u9898",noTips:"\u6682\u672a\u53d1\u8868\u8fc7\u4e3b\u9898",topicList:this.state.userInfo.get("recent_topics"),handleClickRow:this.handleClickRow})))}}]),t}(i.Component);t.default=h},253:function(e,t,n){var r=n(254);"string"===typeof r&&(r=[[e.i,r,""]]);var a={hmr:!1};a.transform=void 0;n(213)(r,a);r.locals&&(e.exports=r.locals)},254:function(e,t,n){t=e.exports=n(212)(!0),t.push([e.i,".user-name-index{min-height:calc(100vh - 57px - 176px - 56px - 64px);font-size:14px;background:#fff}.user-name-index .user-name-index_header span{color:#333;display:inline-block;vertical-align:middle}.user-name-index h3{font-size:20px}.user-name-index .user-name-index_header_center{width:85px}.user-name-index .user-name-index_header_right{width:115px}","",{version:3,sources:["/home/runner/work/react-app/react-app/src/pages/UserInfoByName/style.less"],names:[],mappings:"AAAA,iBACE,oDAAqD,AACrD,eAAgB,AAChB,eAAiB,CAClB,AACD,8CACE,WAAY,AACZ,qBAAsB,AACtB,qBAAuB,CACxB,AACD,oBACE,cAAgB,CACjB,AACD,gDACE,UAAY,CACb,AACD,+CACE,WAAa,CACd",file:"style.less",sourcesContent:[".user-name-index {\n  min-height: calc(100vh - 57px - 176px - 56px - 64px);\n  font-size: 14px;\n  background: #fff;\n}\n.user-name-index .user-name-index_header span {\n  color: #333;\n  display: inline-block;\n  vertical-align: middle;\n}\n.user-name-index h3 {\n  font-size: 20px;\n}\n.user-name-index .user-name-index_header_center {\n  width: 85px;\n}\n.user-name-index .user-name-index_header_right {\n  width: 115px;\n}\n"],sourceRoot:""}])},255:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n.n(i),c=n(1),l=n.n(c),u=n(5),p=(n.n(u),n(75)),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=Object(p.a)(function(){return new Promise(function(e){e()}).then(n.bind(null,256))}),d=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),f(t,[{key:"shouldComponentUpdate",value:function(e){return!Object(u.is)(this.props.topicList,e.topicList)}},{key:"componentDidUpdate",value:function(){console.log("user info by name list is updated")}},{key:"render",value:function(){var e=this;return s.a.createElement("section",{className:"user-name-index-topic mb-3"},s.a.createElement("header",null,s.a.createElement("h3",null,this.props.title)),this.props.topicList.size>0?s.a.createElement("ul",{className:"list-group py-3"},this.props.topicList.map(function(t){return s.a.createElement(m,{topicItem:t,key:t.get("id"),handleClickRow:function(t){return e.props.handleClickRow(t)}})})):s.a.createElement("aside",{className:"text-center py-3 text-muted"},this.props.noTips))}}]),t}(i.Component);d.propTypes={topicList:l.a.object.isRequired,noTips:l.a.string.isRequired,title:l.a.string.isRequired},t.default=d},256:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n.n(i),c=n(1),l=n.n(c),u=n(5),p=(n.n(u),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),f=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),p(t,[{key:"shouldComponentUpdate",value:function(e){return!Object(u.is)(this.props.topicItem,e.topicItem)}},{key:"componentDidUpdate",value:function(){console.log("user info by name item is updated")}},{key:"render",value:function(){var e=this,t=this.props.topicItem;return s.a.createElement("li",{className:"list-group-item cursor-pointer d-flex justify-content-between",onClick:function(){return e.props.handleClickRow(t.get("id"))}},s.a.createElement("span",{className:"overflow-ellipsis"},t.get("title")),s.a.createElement("span",{className:"overflow-ellipsis"},new Date(t.get("last_reply_at")).Format("yyyy-MM-dd HH:mm")))}}]),t}(i.Component);f.propTypes={topicItem:l.a.object.isRequired,handleClickRow:l.a.func.isRequired},t.default=f}});
//# sourceMappingURL=user.ab54e3e8.chunk.js.map